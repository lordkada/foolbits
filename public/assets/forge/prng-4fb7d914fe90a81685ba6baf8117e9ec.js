!function(){function e(e){var n="undefined"!=typeof process&&process.versions&&process.versions.node,t=null;!e.disableNativeCode&&n&&(t=require("crypto"));var r=e.prng=e.prng||{};r.create=function(n){function r(e){if(a.pools[0].messageLength>=32)return i(),e();var n=32-a.pools[0].messageLength<<5;a.seedFile(n,function(n,t){return n?e(n):(a.collect(t),i(),e(),void 0)})}function o(){if(a.pools[0].messageLength>=32)return i();var e=32-a.pools[0].messageLength<<5;a.collect(a.seedFileSync(e)),i()}function i(){var n=e.md.sha1.create();n.update(a.pools[0].digest().getBytes()),a.pools[0].start();for(var t=1,r=1;32>r;++r)t=31===t?2147483648:t<<2,0===t%a.reseeds&&(n.update(a.pools[r].digest().getBytes()),a.pools[r].start());var o=n.digest().getBytes();n.start(),n.update(o);var i=n.digest().getBytes();a.key=a.plugin.formatKey(o),a.seed=a.plugin.formatSeed(i),++a.reseeds,a.generated=0,a.time=+new Date}function l(n){var t=e.util.createBuffer();if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(n/4);try{window.crypto.getRandomValues(r);for(var o=0;o<r.length;++o)t.putInt32(r[o])}catch(i){}}if(t.length()<n)for(var l,a,s,u=Math.floor(65535*Math.random());t.length()<n;){a=16807*(65535&u),l=16807*(u>>16),a+=(32767&l)<<16,a+=l>>15,a=(2147483647&a)+(a>>31),u=4294967295&a;for(var o=0;3>o;++o)s=u>>>(o<<3),s^=Math.floor(255*Math.random()),t.putByte(String.fromCharCode(255&s))}return t.getBytes()}for(var a={plugin:n,key:null,seed:null,time:null,reseeds:0,generated:0},s=n.md,u=new Array(32),f=0;32>f;++f)u[f]=s.create();return a.pools=u,a.pool=0,a.generate=function(n,t){function o(d){if(d)return t(d);if(f.length()>=n)return t(null,f.getBytes(n));if(a.generated>=1048576){var g=+new Date;(null===a.time||g-a.time>100)&&(a.key=null)}if(null===a.key)return r(o);var c=i(a.key,a.seed);a.generated+=c.length,f.putBytes(c),a.key=s(i(a.key,l(a.seed))),a.seed=u(i(a.key,a.seed)),e.util.setImmediate(o)}if(!t)return a.generateSync(n);var i=a.plugin.cipher,l=a.plugin.increment,s=a.plugin.formatKey,u=a.plugin.formatSeed,f=e.util.createBuffer();o()},a.generateSync=function(n){for(var t=a.plugin.cipher,r=a.plugin.increment,i=a.plugin.formatKey,l=a.plugin.formatSeed,s=e.util.createBuffer();s.length()<n;){if(a.generated>=1048576){var u=+new Date;(null===a.time||u-a.time>100)&&(a.key=null)}null===a.key&&o();var f=t(a.key,a.seed);a.generated+=f.length,s.putBytes(f),a.key=i(t(a.key,r(a.seed))),a.seed=l(t(a.key,a.seed))}return s.getBytes(n)},t?(a.seedFile=function(e,n){t.randomBytes(e,function(e,t){return e?n(e):(n(null,t.toString()),void 0)})},a.seedFileSync=function(e){return t.randomBytes(e).toString()}):(a.seedFile=function(e,n){try{n(null,l(e))}catch(t){n(t)}},a.seedFileSync=l),a.collect=function(e){for(var n=e.length,t=0;n>t;++t)a.pools[a.pool].update(e.substr(t,1)),a.pool=31===a.pool?0:a.pool+1},a.collectInt=function(e,n){for(var t="",r=0;n>r;r+=8)t+=String.fromCharCode(255&e>>r);a.collect(t)},a.registerWorker=function(e){function n(n){var t=n.data;t.forge&&t.forge.prng&&a.seedFile(t.forge.prng.needed,function(n,t){e.postMessage({forge:{prng:{err:n,bytes:t}}})})}e===self?a.seedFile=function(e,n){function t(e){var r=e.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",t),n(r.forge.prng.err,r.forge.prng.bytes))}self.addEventListener("message",t),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",n)},a}}var n="prng";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var t=!0;define=function(e,n){n(require,module)}}var r,o=function(t,o){o.exports=function(o){var i=r.map(function(e){return t(e)}).concat(e);if(o=o||{},o.defined=o.defined||{},o.defined[n])return o[n];o.defined[n]=!0;for(var l=0;l<i.length;++l)i[l](o);return o[n]}},i=define;define=function(e,n){return r="string"==typeof e?n.slice(2):e.slice(2),t?(delete define,i.apply(null,Array.prototype.slice.call(arguments,0))):(define=i,define.apply(null,Array.prototype.slice.call(arguments,0)))},define(["require","module","./md","./util"],function(){o.apply(null,Array.prototype.slice.call(arguments,0))})}();